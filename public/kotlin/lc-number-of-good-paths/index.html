<!DOCTYPE html>
<html
  dir="ltr"
  lang="en"
  data-theme=""
  
    class="html theme--light"
  
><head>
  <title>
    
        |
        Leetcode: Number of Good Paths Solution in Kotlin
      

    

  </title>

  
  <meta charset="utf-8" /><meta name="generator" content="Hugo 0.109.0"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="author" content="" />
  <meta
    name="description"
    content="Software Engineer, Google
Dublin, Ireland
"
  />
  
    <meta name="google-site-verification" content="-HcHMyg1C_v5T_MAHavmuOuJap7niqMo42q7sdJX_c4" />
  
    
    
    <link
      rel="stylesheet"
      href="/scss/main.min.99393b720daa0e4e122d508358dfaa568774f7a5871f48ec1a496f33e554dae6.css"
      integrity="sha256-mTk7cg2qDk4SLVCDWN&#43;qVod096WHH0jsGklvM&#43;VU2uY="
      crossorigin="anonymous"
      type="text/css"
    />
  

  
  <link
    rel="stylesheet"
    href="/css/markupHighlight.min.31b0a1f317f55c529a460897848c97436bb138b19c399b37de70d463a8bf6ed5.css"
    integrity="sha256-MbCh8xf1XFKaRgiXhIyXQ2uxOLGcOZs33nDUY6i/btU="
    crossorigin="anonymous"
    type="text/css"
  />
  
  
  <link
    rel="stylesheet"
    href="/fontawesome/css/fontawesome.min.7d272de35b410fb165377550cdf9c4d3a80fbbcc961e111914e4d5c0eaf5729f.css"
    integrity="sha256-fSct41tBD7FlN3VQzfnE06gPu8yWHhEZFOTVwOr1cp8="
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link
    rel="stylesheet"
    href="/fontawesome/css/solid.min.55d8333481b07a08e07cf6f37319753a2b47e99f4c395394c5747b48b495aa9b.css"
    integrity="sha256-VdgzNIGwegjgfPbzcxl1OitH6Z9MOVOUxXR7SLSVqps="
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link
    rel="stylesheet"
    href="/fontawesome/css/regular.min.a7448d02590b43449364b6b5922ed9af5410abb4de4238412a830316dedb850b.css"
    integrity="sha256-p0SNAlkLQ0STZLa1ki7Zr1QQq7TeQjhBKoMDFt7bhQs="
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link
    rel="stylesheet"
    href="/fontawesome/css/brands.min.9ed75a5d670c953fe4df935937674b4646f92674367e9e66eb995bb04e821647.css"
    integrity="sha256-ntdaXWcMlT/k35NZN2dLRkb5JnQ2fp5m65lbsE6CFkc="
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />

  <link rel="canonical" href="https://evan-hossain.github.io/kotlin/lc-number-of-good-paths/" />

  
  
  
  
  <script
    type="text/javascript"
    src="/js/anatole-header.min.f9132794301a01ff16550ed66763482bd848f62243d278f5e550229a158bfd32.js"
    integrity="sha256-&#43;RMnlDAaAf8WVQ7WZ2NIK9hI9iJD0nj15VAimhWL/TI="
    crossorigin="anonymous"
  ></script>

  
    
    
    <script
      type="text/javascript"
      src="/js/anatole-theme-switcher.min.d6d329d93844b162e8bed1e915619625ca91687952177552b9b3e211014a2957.js"
      integrity="sha256-1tMp2ThEsWLovtHpFWGWJcqRaHlSF3VSubPiEQFKKVc="
      crossorigin="anonymous"
    ></script>
  

  


  
  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Leetcode: Number of Good Paths Solution in Kotlin"/>
<meta name="twitter:description" content="2421. Number of Good Paths Solution I found the problem somewhat harder than typical leetcode problems. My solution idea is as follows:"/>



  
  <meta property="og:title" content="Leetcode: Number of Good Paths Solution in Kotlin" />
<meta property="og:description" content="2421. Number of Good Paths Solution I found the problem somewhat harder than typical leetcode problems. My solution idea is as follows:" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://evan-hossain.github.io/kotlin/lc-number-of-good-paths/" /><meta property="article:section" content="kotlin" />
<meta property="article:published_time" content="2023-01-15T16:48:41+00:00" />
<meta property="article:modified_time" content="2023-01-15T16:48:41+00:00" /><meta property="og:site_name" content="Evan Hossain" />



  
  
  
  
  <script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "articleSection": "kotlin",
        "name": "Leetcode: Number of Good Paths Solution in Kotlin",
        "headline": "Leetcode: Number of Good Paths Solution in Kotlin",
        "alternativeHeadline": "",
        "description": "
      
        2421. Number of Good Paths Solution I found the problem somewhat harder than typical leetcode problems. My solution idea is as follows:


      


    ",
        "inLanguage": "en-us",
        "isFamilyFriendly": "true",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/evan-hossain.github.io\/kotlin\/lc-number-of-good-paths\/"
        },
        "author" : {
            "@type": "Person",
            "name": ""
        },
        "creator" : {
            "@type": "Person",
            "name": ""
        },
        "accountablePerson" : {
            "@type": "Person",
            "name": ""
        },
        "copyrightHolder" : {
            "@type": "Person",
            "name": ""
        },
        "copyrightYear" : "2023",
        "dateCreated": "2023-01-15T16:48:41.00Z",
        "datePublished": "2023-01-15T16:48:41.00Z",
        "dateModified": "2023-01-15T16:48:41.00Z",
        "publisher":{
            "@type":"Organization",
            "name":  null ,
            "url": "https://evan-hossain.github.io",
            "logo": {
                "@type": "ImageObject",
                "url": "https:\/\/evan-hossain.github.iofavicon-32x32.png",
                "width":"32",
                "height":"32"
            }
        },
        "image": 
      [
      ]

    ,
        "url" : "https:\/\/evan-hossain.github.io\/kotlin\/lc-number-of-good-paths\/",
        "wordCount" : "402",
        "genre" : [ ],
        "keywords" : [ 
      
      "leetcode"

    
      
        ,

      
      "kotlin"

    ]
    }
  </script>


</head>
<body class="body">
    <div class="wrapper">
      <aside
        
          class="wrapper__sidebar"
        
      ><div
  class="sidebar
    animated fadeInDown
  "
>
  <div class="sidebar__content">
    <div class="sidebar__introduction">
      <img
        class="sidebar__introduction-profileimage"
        src="/images/profile.jpeg"
        alt="profile picture"
      />
      
        <div class="sidebar__introduction-title">
          <a href="/">Evan Hossain</a>
        </div>
      
      <div class="sidebar__introduction-description">
        <p>Software Engineer, Google<br />Dublin, Ireland<br /></p>
      </div>
    </div>
    <ul class="sidebar__list">
      
        <li class="sidebar__list-item">
          <a
            href="https://www.linkedin.com/in/evan-hossain/"
            target="_blank"
            rel="noopener me"
            aria-label="Linkedin"
            title="Linkedin"
          >
            <i class="fab fa-linkedin fa-2x" aria-hidden="true"></i>
          </a>
        </li>
      
        <li class="sidebar__list-item">
          <a
            href="https://github.com/evan-hossain/"
            target="_blank"
            rel="noopener me"
            aria-label="GitHub"
            title="GitHub"
          >
            <i class="fab fa-github fa-2x" aria-hidden="true"></i>
          </a>
        </li>
      
        <li class="sidebar__list-item">
          <a
            href="mailto:cse.evan@gmail.com"
            target="_blank"
            rel="noopener me"
            aria-label="e-mail"
            title="e-mail"
          >
            <i class="fas fa-envelope fa-2x" aria-hidden="true"></i>
          </a>
        </li>
      
    </ul>
  </div><footer class="footer footer__sidebar">
  <ul class="footer__list">
    <li class="footer__item">
      &copy;
      
        
        2023
      
    </li>
    
  </ul>
</footer>
  
  <script
    type="text/javascript"
    src="/js/medium-zoom.min.1248fa75275e5ef0cbef27e8c1e27dc507c445ae3a2c7d2ed0be0809555dac64.js"
    integrity="sha256-Ekj6dSdeXvDL7yfoweJ9xQfERa46LH0u0L4ICVVdrGQ="
    crossorigin="anonymous"
  ></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.css" integrity="sha384-t5CR&#43;zwDAROtph0PXGte6ia8heboACF9R5l/DiY&#43;WZ3P2lxNgvJkQk5n7GPvLMYw" crossorigin="anonymous" /><script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.js" integrity="sha384-FaFLTlohFghEIZkw6VGwmf9ISTubWAVYW8tG8&#43;w2LAIftJEULZABrF9PPFv&#43;tVkH" crossorigin="anonymous"></script><script
      defer
      src="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/contrib/auto-render.min.js"
      integrity="sha384-bHBqxz8fokvgoJ/sc17HODNxa42TlaEhB&#43;w8ZJXTc2nZf1VgEaFZeZvT4Mznfz0v"
      crossorigin="anonymous"
      onload="renderMathInElement(document.body);"
    ></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-K0HCZDVQ3Q"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() {
    dataLayer.push(arguments);
  }
  gtag('js', new Date());
  gtag('config', 'G-K0HCZDVQ3Q');
</script>
</div>
</aside>
      <main
        
          class="wrapper__main"
        
      >
        <header class="header"><div
  class="
    animated fadeInDown
  "
>
  <a role="button" class="navbar-burger" data-target="navMenu" aria-label="menu" aria-expanded="false">
    <span aria-hidden="true" class="navbar-burger__line"></span>
    <span aria-hidden="true" class="navbar-burger__line"></span>
    <span aria-hidden="true" class="navbar-burger__line"></span>
  </a>
  <nav class="nav">
    <ul class="nav__list" id="navMenu">
      
      
        
        
          <li class="nav__list-item">
            <a
              
              href="/"
              
              title=""
              >Home</a
            >
          </li>
        

      
        
        
          <li class="nav__list-item">
            <a
              
              href="/post/"
              
              title=""
              >Posts</a
            >
          </li>
        

      
        
        
          <li class="nav__list-item">
            <a
              
              href="/kotlin/"
              
              title=""
              >Kotlin</a
            >
          </li>
        

      
        
        
          <li class="nav__list-item">
            <a
              
              href="/about/"
              
              title=""
              >About</a
            >
          </li>
        

      
    </ul>
    <ul class="nav__list nav__list--end">
      
      
        <li class="nav__list-item">
          <div class="themeswitch">
            <a title="Switch Theme">
              <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a>
          </div>
        </li>
      
    </ul>
  </nav>
</div>
</header>
  <div
    class="post 
      animated fadeInDown
    "
  >
    
    <div class="post__content">
      <h1>Leetcode: Number of Good Paths Solution in Kotlin</h1>
      <h2 id="2421-number-of-good-paths">2421. Number of Good Paths</h2>
<h2 id="solution">Solution</h2>
<p>I found the problem somewhat harder than typical leetcode problems. My solution idea is as follows:</p>
<p>We need to build the tree by connecting nodes, starting from the nodes with minimum weights to maximum. This will ensure that whenever we are connecting two different nodes, the max weight of those two nodes will be greater or equal any other weights already considered in the relevant sub trees. We will use disjoint set to maintain and connect different trees. Weights of the edges will be maximum value of the related nodes.</p>
<p>Once we start picking up the edges in order, look at the two sub trees of the two nodes in question using disjoint set. Additionally, we need to maintain two information for each of these sub trees:</p>
<ol>
<li>What is the maximum value in the sub tree?</li>
<li>How many times the maximum value occurs in those sub trees?</li>
</ol>
<p>With these two information maintained in two maps, we can find if the maximum values match in each of the new sub tree we are about to connect. If the values match, increment the result. Also update the two maps accordingly.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Edge</span>(<span style="color:#66d9ef">val</span> from: Int, <span style="color:#66d9ef">val</span> to: Int, <span style="color:#66d9ef">val</span> weight: Int)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">lateinit</span> <span style="color:#66d9ef">var</span> parent: IntArray
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">numberOfGoodPaths</span>(vals: IntArray, edges: Array&lt;IntArray&gt;): Int {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">val</span> sortedEdges = edges.map { Edge(<span style="color:#66d9ef">it</span>.first(), <span style="color:#66d9ef">it</span>.last(), vals[<span style="color:#66d9ef">it</span>.first()].coerceAtLeast(vals[<span style="color:#66d9ef">it</span>.last()])) }
</span></span><span style="display:flex;"><span>            .sortedWith(compareBy { <span style="color:#66d9ef">it</span>.weight })
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">val</span> n = vals.size
</span></span><span style="display:flex;"><span>        parent = IntArray(n) { -<span style="color:#ae81ff">1</span> }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">val</span> valCount = mutableMapOf&lt;Pair&lt;Int, Int&gt;, Int&gt;() <span style="color:#75715e">// count of values in sub trees
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">val</span> maxVal = mutableMapOf&lt;Int, Int&gt;() <span style="color:#75715e">// maintain max value in sub trees
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">var</span> result = n
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (edge <span style="color:#66d9ef">in</span> sortedEdges) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">val</span> uRoot = root(edge.from)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">val</span> vRoot = root(edge.to)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">val</span> uRootMaxVal = maxVal.getOrDefault(uRoot, vals[edge.from])
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">val</span> vRootMaxVal = maxVal.getOrDefault(vRoot, vals[edge.to])
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">val</span> uVal = valCount.getOrDefault(Pair(uRoot, uRootMaxVal), <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">val</span> vVal = valCount.getOrDefault(Pair(vRoot, vRootMaxVal), <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (uRootMaxVal <span style="color:#f92672">==</span> vRootMaxVal) result <span style="color:#f92672">+=</span> uVal * vVal
</span></span><span style="display:flex;"><span>            join(edge.from, edge.to)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">val</span> newRoot = root(edge.from)
</span></span><span style="display:flex;"><span>            valCount[Pair(newRoot, edge.weight)] = valCount.getOrDefault(
</span></span><span style="display:flex;"><span>                Pair(uRoot, edge.weight), (vals[edge.from] <span style="color:#f92672">==</span> edge.weight).compareTo(<span style="color:#66d9ef">false</span>)
</span></span><span style="display:flex;"><span>            ) + valCount.getOrDefault(
</span></span><span style="display:flex;"><span>                Pair(vRoot, edge.weight), (vals[edge.to] <span style="color:#f92672">==</span> edge.weight).compareTo(<span style="color:#66d9ef">false</span>)
</span></span><span style="display:flex;"><span>            )
</span></span><span style="display:flex;"><span>            maxVal[newRoot] = edge.weight
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> result
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">root</span>(u: Int): Int = <span style="color:#66d9ef">if</span> (parent[u] &lt; <span style="color:#ae81ff">0</span>) u <span style="color:#66d9ef">else</span> root(parent[u])
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">join</span>(u: Int, v: Int) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">var</span> uRoot = root(u)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">var</span> vRoot = root(v)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (uRoot <span style="color:#f92672">==</span> vRoot) <span style="color:#66d9ef">return</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (parent[vRoot] &lt; parent[uRoot]) uRoot = vRoot.also { vRoot = uRoot } <span style="color:#75715e">// rank optimisation
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        parent[uRoot] <span style="color:#f92672">+=</span> parent[vRoot]
</span></span><span style="display:flex;"><span>        parent[vRoot] = uRoot
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>

  <h3>Related Posts</h3>
  <ul>
    
      <li><a href="/kotlin/lc-shuffle-the-array/">Leetcode: Shuffle the Array Solution in Kotlin</a></li>
    
      <li><a href="/kotlin/lc-find-all-anagrams-in-a-string/">Leetcode: Find All Anagrams in a String Solution in Kotlin</a></li>
    
      <li><a href="/kotlin/lc-permutation-in-string/">Leetcode: Permutation in String Solution in Kotlin</a></li>
    
  </ul>

</div>
    <div class="post__footer">
      

      
        <span><a class="tag" href="/tags/leetcode/">leetcode</a><a class="tag" href="/tags/kotlin/">kotlin</a></span>


      
    </div>

    
  </div>

      </main>
    </div><footer class="footer footer__base">
  <ul class="footer__list">
    <li class="footer__item">
      &copy;
      
        
        2023
      
    </li>
    
  </ul>
</footer>
  
  <script
    type="text/javascript"
    src="/js/medium-zoom.min.1248fa75275e5ef0cbef27e8c1e27dc507c445ae3a2c7d2ed0be0809555dac64.js"
    integrity="sha256-Ekj6dSdeXvDL7yfoweJ9xQfERa46LH0u0L4ICVVdrGQ="
    crossorigin="anonymous"
  ></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.css" integrity="sha384-t5CR&#43;zwDAROtph0PXGte6ia8heboACF9R5l/DiY&#43;WZ3P2lxNgvJkQk5n7GPvLMYw" crossorigin="anonymous" /><script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.js" integrity="sha384-FaFLTlohFghEIZkw6VGwmf9ISTubWAVYW8tG8&#43;w2LAIftJEULZABrF9PPFv&#43;tVkH" crossorigin="anonymous"></script><script
      defer
      src="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/contrib/auto-render.min.js"
      integrity="sha384-bHBqxz8fokvgoJ/sc17HODNxa42TlaEhB&#43;w8ZJXTc2nZf1VgEaFZeZvT4Mznfz0v"
      crossorigin="anonymous"
      onload="renderMathInElement(document.body);"
    ></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-K0HCZDVQ3Q"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() {
    dataLayer.push(arguments);
  }
  gtag('js', new Date());
  gtag('config', 'G-K0HCZDVQ3Q');
</script>
</body>
</html>
